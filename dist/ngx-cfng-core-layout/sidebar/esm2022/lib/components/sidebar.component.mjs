import { NgClass, NgStyle } from '@angular/common';
import { Component, EventEmitter, HostListener, inject, Input, Output } from '@angular/core';
import { RouterLink } from '@angular/router';
import { SidebarService } from '../services/sidebar.service';
import * as i0 from "@angular/core";
export class NgxCfngCoreLayoutSidebarComponent {
    baseAssetsUrl = '';
    menuNavegacion = {};
    toggleSidebar = new EventEmitter();
    prefijoURL = '/app/'; //'/layout/layout/efe/'
    //Para indicar que el sidebar necesita ocupar un ancho fijo
    anchoFijoSidebar = new EventEmitter();
    menuNavegacionSeleccionado = new EventEmitter();
    mostrarSidebar = true;
    opcionSeleccionadoCodigo = '';
    opcionSeleccionadoCodigoAnterior = '';
    opcionSeleccionadoCodigoSiguiente = '';
    tamanioVentanaMediano = 768; //Tamaño mediano
    sidebarService = inject(SidebarService);
    ngOnInit() {
        setTimeout(() => {
            this.verificarOpcionSeleccionada();
            this.verificarTamanioVentana();
            this.verificarAnchoFijoSidebar();
        }, 0);
    }
    onCambiarTamanioVentana(event) {
        //
        this.verificarTamanioVentana();
        //
        this.verificarAnchoFijoSidebar();
        //
    }
    reiniciarValores(menuNavegacion) {
        this.opcionSeleccionadoCodigo = '';
        this.opcionSeleccionadoCodigoAnterior = '';
        this.opcionSeleccionadoCodigoSiguiente = '';
        //
        this.menuNavegacion = menuNavegacion;
        //
        this.verificarOpcionSeleccionada();
    }
    verificarTamanioVentana() {
        if (window.innerWidth < this.tamanioVentanaMediano) {
            this.mostrarSidebar = false;
        }
        else {
            this.mostrarSidebar = true;
        }
        this.toggleSidebar.emit(this.mostrarSidebar);
    }
    verificarAnchoFijoSidebar() {
        const isAnchoFijo = window.innerWidth >= this.tamanioVentanaMediano && this.mostrarSidebar;
        this.anchoFijoSidebar.emit(isAnchoFijo);
    }
    verificarOpcionSeleccionada() {
        if (this.menuNavegacion.options === undefined) {
            return;
        }
        const menuIndexNivel1 = this.sidebarService.getMenuIndexActual(this.menuNavegacion.options, this.prefijoURL);
        //
        if (menuIndexNivel1 <= -1) {
            return;
        }
        //
        let menuIndexNivel2 = -1, menuNivel = 1;
        const menu = this.menuNavegacion.options[menuIndexNivel1];
        if (menu && menu.options && menu.options.length > 0) {
            menuIndexNivel2 = this.sidebarService.getMenuIndexActual(menu.options, this.prefijoURL);
            if (menuIndexNivel2 > -1) {
                menuNivel = 2;
                menu.extended = true;
            }
        }
        //
        this.opcionSeleccionadoCodigo = this.generarCodigoSeleccionado(menuIndexNivel1, menuIndexNivel2, menuNivel);
        this.opcionSeleccionadoCodigoAnterior = this.generarCodigoSeleccionadoAnterior(menuIndexNivel1, menuIndexNivel2, menuNivel);
        this.opcionSeleccionadoCodigoSiguiente = this.generarCodigoSeleccionadoSiguiente(menuIndexNivel1, menuIndexNivel2, menuNivel);
        //
        this.verificarMenuObjetoSeleccionado(menuIndexNivel1, menuIndexNivel2);
    }
    verificarMenuObjetoSeleccionado(index, subIndex) {
        const menuPrincipal = JSON.parse(JSON.stringify(this.menuNavegacion));
        let menuSeleccionado = menuPrincipal.options[index];
        if (menuSeleccionado === undefined)
            menuSeleccionado = menuPrincipal.options[0];
        if (menuSeleccionado === undefined) {
            this.menuNavegacionSeleccionado.emit(menuPrincipal);
            return;
        }
        if (menuSeleccionado.options && menuSeleccionado.options[subIndex]) {
            const submeniSeleccionado = { ...menuSeleccionado.options[subIndex] };
            menuSeleccionado.options = [];
            menuSeleccionado.options.push(submeniSeleccionado);
        }
        else {
            menuSeleccionado.options = [];
        }
        menuPrincipal.options = [];
        menuPrincipal.options.push(menuSeleccionado);
        this.menuNavegacionSeleccionado.emit(menuPrincipal);
    }
    eventoMostrarOcultarSidebar() {
        this.mostrarSidebar = !this.mostrarSidebar;
        this.toggleSidebar.emit(this.mostrarSidebar);
        //
        this.verificarAnchoFijoSidebar();
    }
    eventoSeleccionarOpcion(e, index, subIndex, nivel, submenu) {
        if (!submenu?.url) {
            e.preventDefault();
        }
        e.stopPropagation();
        // Determina el código seleccionado según el nivel
        this.opcionSeleccionadoCodigo = this.generarCodigoSeleccionado(index, subIndex, nivel);
        this.opcionSeleccionadoCodigoAnterior = this.generarCodigoSeleccionadoAnterior(index, subIndex, nivel);
        this.opcionSeleccionadoCodigoSiguiente = this.generarCodigoSeleccionadoSiguiente(index, subIndex, nivel);
        // Mostrar el submenu
        if (nivel === 1 && submenu?.options?.length > 0) {
            submenu.extended = !submenu.extended;
        }
        //
        this.verificarMenuObjetoSeleccionado(index, subIndex);
        //
    }
    generarCodigoSeleccionado(index, subIndex, nivel) {
        return nivel === 1 ? `${index}` : `${index}${subIndex}`;
    }
    generarCodigoSeleccionadoAnterior(index, subIndex, nivel) {
        return nivel === 1 ? `${index - 1}` : `${index}${(subIndex ?? 0) - 1}`;
    }
    generarCodigoSeleccionadoSiguiente(index, subIndex, nivel) {
        return nivel === 1 ? `${index + 1}` : `${index}${(subIndex ?? 0) + 1}`;
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.0", ngImport: i0, type: NgxCfngCoreLayoutSidebarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.0", type: NgxCfngCoreLayoutSidebarComponent, isStandalone: true, selector: "ngx-cfng-core-layout-sidebar", inputs: { baseAssetsUrl: "baseAssetsUrl", menuNavegacion: "menuNavegacion", prefijoURL: "prefijoURL" }, outputs: { toggleSidebar: "toggleSidebar", anchoFijoSidebar: "anchoFijoSidebar", menuNavegacionSeleccionado: "menuNavegacionSeleccionado" }, host: { listeners: { "window:resize": "onCambiarTamanioVentana($event)" } }, ngImport: i0, template: "\r\n@if (menuNavegacion.options && menuNavegacion.options!.length > 0) {\r\n\r\n\r\n<div class=\"sidebar\" [ngClass]=\"{'sidebar--ocultar':!mostrarSidebar}\">\r\n\r\n  <div class=\"sidebar__btn-contenedor\">\r\n    <div class=\"text-right relative sidebar__btn\"\r\n    [ngStyle]=\"{'border-bottom-right-radius': opcionSeleccionadoCodigo === '0' ? '12px' : '0px'}\"\r\n    >\r\n      @if (mostrarSidebar===true) {\r\n        <button class=\"border-none border-round m-3 cursor-pointer sidebar__btn-ocultar\" (click)=\"eventoMostrarOcultarSidebar()\">\r\n          <img [src]=\"baseAssetsUrl+'/icons/menu.svg'\" alt=\"Menu Icono\">\r\n        </button>\r\n      }@else {\r\n        <a class=\"border-none cursor-pointer absolute sidebar__btn-mostrar\" (click)=\"eventoMostrarOcultarSidebar()\">\r\n          <img [src]=\"baseAssetsUrl+'/icons/collapsed.svg'\" alt=\"Menu Icono\">\r\n          <span class=\"absolute block sidebar__btn-mostrar-titulo\">Men\u00FA</span>\r\n        </a>\r\n      }\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"px-0 pt-0 pb-3\">\r\n    @if (menuNavegacion.options) {\r\n      <ul class=\"opciones\">\r\n        @for (opcion of menuNavegacion.options; let indexPrincipal = $index;track indexPrincipal) {\r\n          <li class=\"opciones__contenedor\"\r\n              [ngClass]=\"{'opciones__vinculo--anterior':opcionSeleccionadoCodigoAnterior===indexPrincipal+'', 'opciones__vinculo--siguiente':opcionSeleccionadoCodigoSiguiente===indexPrincipal+''}\"\r\n          >\r\n            <a [routerLink]=\"opcion.url ? opcion.url : null\" routerLinkActive=\"url_active\"\r\n              class=\"opciones__vinculo\"\r\n              (click)=\"eventoSeleccionarOpcion($event, indexPrincipal, -1, 1, opcion)\"\r\n              [ngClass]=\"{'opciones__vinculo--activo':opcionSeleccionadoCodigo===indexPrincipal+''}\"\r\n              [attr.tabindex]=\"opcion.url ? '0' : '-1'\"\r\n              [attr.aria-disabled]=\"!opcion.url\"\r\n            >\r\n              <span>\r\n                {{opcion.name}}\r\n              </span>\r\n              <!--Contador -->\r\n              @if (opcion.count && opcion.count > 0) {\r\n                <span class=\"absolute flex align-items-center justify-content-center ml-2 border-round opciones__vinculo__numero\">{{ opcion.count }}</span>\r\n              }\r\n              <!--Icono mostrar sub menu-->\r\n              @if (opcion.options && opcion.options.length > 0) {\r\n                <img [src]=\"baseAssetsUrl+'/icons/downrow.svg'\" class=\"absolute opciones__btn-desplegable\"  alt=\"{{ opcion.name }} DropDown\"\r\n                    [ngStyle]=\"{'transform': opcion.extended &&  opcion.extended===true? 'rotate(180deg)' : 'rotate(0)'}\"\r\n                >\r\n              }\r\n            </a>\r\n            <!--Ini - Submenu-->\r\n            @if (opcion.options && opcion.options.length>0) {\r\n              <ul class=\"opciones sub-opciones\" [class.sub-opciones--mostrar]=\"opcion.extended===true\">\r\n                @for (child of opcion.options; let subIndex = $index; track subIndex) {\r\n                  <li class=\"opciones__contenedor\"\r\n                    [ngClass]=\"{'opciones__vinculo--anterior':opcionSeleccionadoCodigoAnterior===indexPrincipal+''+subIndex, 'opciones__vinculo--siguiente':opcionSeleccionadoCodigoSiguiente===indexPrincipal+''+subIndex}\"\r\n                  >\r\n                    <a\r\n                      routerLink=\"{{ child.url }}\" routerLinkActive=\"url_active\"\r\n                      (click)=\"eventoSeleccionarOpcion($event, indexPrincipal, subIndex, 2)\"\r\n                      [ngClass]=\"{'opciones__vinculo--activo':opcionSeleccionadoCodigo==indexPrincipal+''+subIndex}\"\r\n                      class=\"opciones__vinculo pl-6\">\r\n                      <span class=\"pl-1\">\r\n                        {{child.name}}\r\n                      </span>\r\n                        <!--Contador -->\r\n                        @if (child.count && child.count > 0) {\r\n                          <span class=\"absolute flex align-items-center justify-content-center ml-2 border-round opciones__vinculo__numero\">{{ child.count }}</span>\r\n                        }\r\n                    </a>\r\n                  </li>\r\n                }\r\n              </ul>\r\n            }\r\n            <!--Fin - Submenu-->\r\n           </li>\r\n        }\r\n      </ul>\r\n\r\n      <div class=\"sidebar__inferior-contenedor\">\r\n        <div class=\"sidebar__inferior-altura\" [ngStyle]=\"{'border-top-right-radius': opcionSeleccionadoCodigo === (menuNavegacion.options.length-1)+'' ? '12px' : '0px'}\">\r\n        </div>\r\n      </div>\r\n\r\n    }\r\n  </div>\r\n\r\n</div>\r\n\r\n}\r\n", styles: [".sidebar{width:var(--sidebar-width);min-height:calc(100vh - var(--header-height));background-color:var(--white);transition:.3s all ease;z-index:2}@media (max-width: 768px){.sidebar{position:absolute;top:var(--header-height);left:0}.sidebar__btn-mostrar{opacity:.5}.sidebar__btn-mostrar:hover{opacity:1}}.sidebar__btn-contenedor{background-color:var(--mpfn-background)}.sidebar__btn{background-color:var(--white);height:4.5rem}.sidebar--ocultar{transform:translate(-100%)}.sidebar__btn-ocultar{background-color:var(--mpfn-background);width:2.8rem;height:2.8rem;outline:none}.sidebar__btn-ocultar:hover{background-color:var(--mpfn-background2)}.sidebar__btn-mostrar{background-color:var(--mpfn-background-opaque);height:4.8rem;border-top-right-radius:.4rem;border-bottom-right-radius:.4rem;top:0;padding:.5rem}.sidebar__btn-mostrar-titulo{transform:rotate(90deg);margin-top:.3rem;font-size:.9rem;width:1.5rem}.sidebar__inferior-contenedor{background-color:var(--mpfn-background)}.sidebar__inferior-altura{width:100%;height:5rem;background-color:var(--white)}.opciones{margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:0;background-color:var(--mpfn-background)}.opciones__contenedor{list-style:none;background-color:var(--white)}.opciones__vinculo{text-decoration:none;color:#000;font-size:1.1em;position:relative;padding:1rem 2.2rem;display:block;width:100%}.opciones__vinculo:hover{color:var(--primary-color);background-color:#fbfaf6}.opciones__vinculo--activo{position:relative;font-weight:500}.opciones__vinculo--activo span{position:relative;z-index:1}.opciones__vinculo--activo:before{content:\"\";position:absolute;width:calc(100% - 20px);height:100%;top:0;left:20px;background-color:var(--mpfn-background);z-index:0;border-top-left-radius:12px;border-bottom-left-radius:12px;border-right:2px solid var(--mpfn-background);mask-border-width:100px}.opciones__vinculo--anterior{border-bottom-right-radius:12px}.opciones__vinculo--siguiente{border-top-right-radius:12px}.opciones__vinculo__numero{font-family:var(--mpfn-font-semi-bold);color:var(--mpfn-white);background-color:var(--mpfn-secondary);font-size:.7rem;width:1.375rem;height:1.375rem;top:1rem;right:.8rem}.sub-opciones{max-height:0;transition:max-height .4s ease-in-out;overflow:hidden}.sub-opciones--mostrar{max-height:35.25rem;transition:max-height .4s ease-in-out}.opciones__btn-desplegable{top:1.5rem;right:1rem;width:.938rem;transition:transform .3s ease-in-out}\n"], dependencies: [{ kind: "directive", type: NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { kind: "directive", type: RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "info", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.0", ngImport: i0, type: NgxCfngCoreLayoutSidebarComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ngx-cfng-core-layout-sidebar', standalone: true, imports: [
                        NgClass,
                        NgStyle,
                        RouterLink
                    ], template: "\r\n@if (menuNavegacion.options && menuNavegacion.options!.length > 0) {\r\n\r\n\r\n<div class=\"sidebar\" [ngClass]=\"{'sidebar--ocultar':!mostrarSidebar}\">\r\n\r\n  <div class=\"sidebar__btn-contenedor\">\r\n    <div class=\"text-right relative sidebar__btn\"\r\n    [ngStyle]=\"{'border-bottom-right-radius': opcionSeleccionadoCodigo === '0' ? '12px' : '0px'}\"\r\n    >\r\n      @if (mostrarSidebar===true) {\r\n        <button class=\"border-none border-round m-3 cursor-pointer sidebar__btn-ocultar\" (click)=\"eventoMostrarOcultarSidebar()\">\r\n          <img [src]=\"baseAssetsUrl+'/icons/menu.svg'\" alt=\"Menu Icono\">\r\n        </button>\r\n      }@else {\r\n        <a class=\"border-none cursor-pointer absolute sidebar__btn-mostrar\" (click)=\"eventoMostrarOcultarSidebar()\">\r\n          <img [src]=\"baseAssetsUrl+'/icons/collapsed.svg'\" alt=\"Menu Icono\">\r\n          <span class=\"absolute block sidebar__btn-mostrar-titulo\">Men\u00FA</span>\r\n        </a>\r\n      }\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"px-0 pt-0 pb-3\">\r\n    @if (menuNavegacion.options) {\r\n      <ul class=\"opciones\">\r\n        @for (opcion of menuNavegacion.options; let indexPrincipal = $index;track indexPrincipal) {\r\n          <li class=\"opciones__contenedor\"\r\n              [ngClass]=\"{'opciones__vinculo--anterior':opcionSeleccionadoCodigoAnterior===indexPrincipal+'', 'opciones__vinculo--siguiente':opcionSeleccionadoCodigoSiguiente===indexPrincipal+''}\"\r\n          >\r\n            <a [routerLink]=\"opcion.url ? opcion.url : null\" routerLinkActive=\"url_active\"\r\n              class=\"opciones__vinculo\"\r\n              (click)=\"eventoSeleccionarOpcion($event, indexPrincipal, -1, 1, opcion)\"\r\n              [ngClass]=\"{'opciones__vinculo--activo':opcionSeleccionadoCodigo===indexPrincipal+''}\"\r\n              [attr.tabindex]=\"opcion.url ? '0' : '-1'\"\r\n              [attr.aria-disabled]=\"!opcion.url\"\r\n            >\r\n              <span>\r\n                {{opcion.name}}\r\n              </span>\r\n              <!--Contador -->\r\n              @if (opcion.count && opcion.count > 0) {\r\n                <span class=\"absolute flex align-items-center justify-content-center ml-2 border-round opciones__vinculo__numero\">{{ opcion.count }}</span>\r\n              }\r\n              <!--Icono mostrar sub menu-->\r\n              @if (opcion.options && opcion.options.length > 0) {\r\n                <img [src]=\"baseAssetsUrl+'/icons/downrow.svg'\" class=\"absolute opciones__btn-desplegable\"  alt=\"{{ opcion.name }} DropDown\"\r\n                    [ngStyle]=\"{'transform': opcion.extended &&  opcion.extended===true? 'rotate(180deg)' : 'rotate(0)'}\"\r\n                >\r\n              }\r\n            </a>\r\n            <!--Ini - Submenu-->\r\n            @if (opcion.options && opcion.options.length>0) {\r\n              <ul class=\"opciones sub-opciones\" [class.sub-opciones--mostrar]=\"opcion.extended===true\">\r\n                @for (child of opcion.options; let subIndex = $index; track subIndex) {\r\n                  <li class=\"opciones__contenedor\"\r\n                    [ngClass]=\"{'opciones__vinculo--anterior':opcionSeleccionadoCodigoAnterior===indexPrincipal+''+subIndex, 'opciones__vinculo--siguiente':opcionSeleccionadoCodigoSiguiente===indexPrincipal+''+subIndex}\"\r\n                  >\r\n                    <a\r\n                      routerLink=\"{{ child.url }}\" routerLinkActive=\"url_active\"\r\n                      (click)=\"eventoSeleccionarOpcion($event, indexPrincipal, subIndex, 2)\"\r\n                      [ngClass]=\"{'opciones__vinculo--activo':opcionSeleccionadoCodigo==indexPrincipal+''+subIndex}\"\r\n                      class=\"opciones__vinculo pl-6\">\r\n                      <span class=\"pl-1\">\r\n                        {{child.name}}\r\n                      </span>\r\n                        <!--Contador -->\r\n                        @if (child.count && child.count > 0) {\r\n                          <span class=\"absolute flex align-items-center justify-content-center ml-2 border-round opciones__vinculo__numero\">{{ child.count }}</span>\r\n                        }\r\n                    </a>\r\n                  </li>\r\n                }\r\n              </ul>\r\n            }\r\n            <!--Fin - Submenu-->\r\n           </li>\r\n        }\r\n      </ul>\r\n\r\n      <div class=\"sidebar__inferior-contenedor\">\r\n        <div class=\"sidebar__inferior-altura\" [ngStyle]=\"{'border-top-right-radius': opcionSeleccionadoCodigo === (menuNavegacion.options.length-1)+'' ? '12px' : '0px'}\">\r\n        </div>\r\n      </div>\r\n\r\n    }\r\n  </div>\r\n\r\n</div>\r\n\r\n}\r\n", styles: [".sidebar{width:var(--sidebar-width);min-height:calc(100vh - var(--header-height));background-color:var(--white);transition:.3s all ease;z-index:2}@media (max-width: 768px){.sidebar{position:absolute;top:var(--header-height);left:0}.sidebar__btn-mostrar{opacity:.5}.sidebar__btn-mostrar:hover{opacity:1}}.sidebar__btn-contenedor{background-color:var(--mpfn-background)}.sidebar__btn{background-color:var(--white);height:4.5rem}.sidebar--ocultar{transform:translate(-100%)}.sidebar__btn-ocultar{background-color:var(--mpfn-background);width:2.8rem;height:2.8rem;outline:none}.sidebar__btn-ocultar:hover{background-color:var(--mpfn-background2)}.sidebar__btn-mostrar{background-color:var(--mpfn-background-opaque);height:4.8rem;border-top-right-radius:.4rem;border-bottom-right-radius:.4rem;top:0;padding:.5rem}.sidebar__btn-mostrar-titulo{transform:rotate(90deg);margin-top:.3rem;font-size:.9rem;width:1.5rem}.sidebar__inferior-contenedor{background-color:var(--mpfn-background)}.sidebar__inferior-altura{width:100%;height:5rem;background-color:var(--white)}.opciones{margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:0;background-color:var(--mpfn-background)}.opciones__contenedor{list-style:none;background-color:var(--white)}.opciones__vinculo{text-decoration:none;color:#000;font-size:1.1em;position:relative;padding:1rem 2.2rem;display:block;width:100%}.opciones__vinculo:hover{color:var(--primary-color);background-color:#fbfaf6}.opciones__vinculo--activo{position:relative;font-weight:500}.opciones__vinculo--activo span{position:relative;z-index:1}.opciones__vinculo--activo:before{content:\"\";position:absolute;width:calc(100% - 20px);height:100%;top:0;left:20px;background-color:var(--mpfn-background);z-index:0;border-top-left-radius:12px;border-bottom-left-radius:12px;border-right:2px solid var(--mpfn-background);mask-border-width:100px}.opciones__vinculo--anterior{border-bottom-right-radius:12px}.opciones__vinculo--siguiente{border-top-right-radius:12px}.opciones__vinculo__numero{font-family:var(--mpfn-font-semi-bold);color:var(--mpfn-white);background-color:var(--mpfn-secondary);font-size:.7rem;width:1.375rem;height:1.375rem;top:1rem;right:.8rem}.sub-opciones{max-height:0;transition:max-height .4s ease-in-out;overflow:hidden}.sub-opciones--mostrar{max-height:35.25rem;transition:max-height .4s ease-in-out}.opciones__btn-desplegable{top:1.5rem;right:1rem;width:.938rem;transition:transform .3s ease-in-out}\n"] }]
        }], propDecorators: { baseAssetsUrl: [{
                type: Input,
                args: [{ required: true }]
            }], menuNavegacion: [{
                type: Input
            }], toggleSidebar: [{
                type: Output
            }], prefijoURL: [{
                type: Input
            }], anchoFijoSidebar: [{
                type: Output
            }], menuNavegacionSeleccionado: [{
                type: Output
            }], onCambiarTamanioVentana: [{
                type: HostListener,
                args: ['window:resize', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lkZWJhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtY2ZuZy1jb3JlLWxheW91dC9zaWRlYmFyL3NyYy9saWIvY29tcG9uZW50cy9zaWRlYmFyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1jZm5nLWNvcmUtbGF5b3V0L3NpZGViYXIvc3JjL2xpYi9jb21wb25lbnRzL3NpZGViYXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNuRCxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFckcsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQzs7QUFhN0QsTUFBTSxPQUFPLGlDQUFpQztJQUdyQyxhQUFhLEdBQVcsRUFBRSxDQUFDO0lBRzNCLGNBQWMsR0FBbUIsRUFBb0IsQ0FBQztJQUd0RCxhQUFhLEdBQUcsSUFBSSxZQUFZLEVBQVcsQ0FBQztJQUc1QyxVQUFVLEdBQVcsT0FBTyxDQUFDLENBQUEsdUJBQXVCO0lBRTNELDJEQUEyRDtJQUVwRCxnQkFBZ0IsR0FBRyxJQUFJLFlBQVksRUFBVyxDQUFDO0lBRy9DLDBCQUEwQixHQUFHLElBQUksWUFBWSxFQUFrQixDQUFDO0lBRTdELGNBQWMsR0FBWSxJQUFJLENBQUM7SUFDL0Isd0JBQXdCLEdBQVcsRUFBRSxDQUFDO0lBQ3RDLGdDQUFnQyxHQUFXLEVBQUUsQ0FBQztJQUM5QyxpQ0FBaUMsR0FBVyxFQUFFLENBQUM7SUFDeEMscUJBQXFCLEdBQVcsR0FBRyxDQUFD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RUFBRTtnQkFJbEIsY0FBYztzQkFEcEIsS0FBSztnQkFJQyxhQUFhO3NCQURuQixNQUFNO2dCQUlBLFVBQVU7c0JBRGhCLEtBQUs7Z0JBS0MsZ0JBQWdCO3NCQUR0QixNQUFNO2dCQUlBLDBCQUEwQjtzQkFEaEMsTUFBTTtnQkFvQlAsdUJBQXVCO3NCQUR0QixZQUFZO3VCQUFDLGVBQWUsRUFBRSxDQUFDLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nQ2xhc3MsIE5nU3R5bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSG9zdExpc3RlbmVyLCBpbmplY3QsIElucHV0LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBNZW51TmF2ZWdhY2lvbiB9IGZyb20gJy4uL21vZGVscy9jb25maWd1cmFjaW9uLm1vZGVsJztcclxuaW1wb3J0IHsgUm91dGVyTGluayB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IFNpZGViYXJTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvc2lkZWJhci5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnbmd4LWNmbmctY29yZS1sYXlvdXQtc2lkZWJhcicsXHJcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcclxuICBpbXBvcnRzOiBbXHJcbiAgICBOZ0NsYXNzLFxyXG4gICAgTmdTdHlsZSxcclxuICAgIFJvdXRlckxpbmtcclxuICBdLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9zaWRlYmFyLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9zaWRlYmFyLmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIE5neENmbmdDb3JlTGF5b3V0U2lkZWJhckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIEBJbnB1dCh7IHJlcXVpcmVkOiB0cnVlIH0pXHJcbiAgcHVibGljIGJhc2VBc3NldHNVcmw6IHN0cmluZyA9ICcnO1xyXG5cclxuICBASW5wdXQoKVxyXG4gIHB1YmxpYyBtZW51TmF2ZWdhY2lvbjogTWVudU5hdmVnYWNpb24gPSB7fSBhcyBNZW51TmF2ZWdhY2lvbjtcclxuXHJcbiAgQE91dHB1dCgpXHJcbiAgcHVibGljIHRvZ2dsZVNpZGViYXIgPSBuZXcgRXZlbnRFbWl0dGVyPGJvb2xlYW4+KCk7XHJcblxyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIHByZWZpam9VUkw6IHN0cmluZyA9ICcvYXBwLyc7Ly8nL2xheW91dC9sYXlvdXQvZWZlLydcclxuXHJcbiAgLy9QYXJhIGluZGljYXIgcXVlIGVsIHNpZGViYXIgbmVjZXNpdGEgb2N1cGFyIHVuIGFuY2hvIGZpam9cclxuICBAT3V0cHV0KClcclxuICBwdWJsaWMgYW5jaG9GaWpvU2lkZWJhciA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcclxuXHJcbiAgQE91dHB1dCgpXHJcbiAgcHVibGljIG1lbnVOYXZlZ2FjaW9uU2VsZWNjaW9uYWRvID0gbmV3IEV2ZW50RW1pdHRlcjxNZW51TmF2ZWdhY2lvbj4oKTtcclxuXHJcbiAgcHJvdGVjdGVkIG1vc3RyYXJTaWRlYmFyOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcm90ZWN0ZWQgb3BjaW9uU2VsZWNjaW9uYWRvQ29kaWdvOiBzdHJpbmcgPSAnJztcclxuICBwcm90ZWN0ZWQgb3BjaW9uU2VsZWNjaW9uYWRvQ29kaWdvQW50ZXJpb3I6IHN0cmluZyA9ICcnO1xyXG4gIHByb3RlY3RlZCBvcGNpb25TZWxlY2Npb25hZG9Db2RpZ29TaWd1aWVudGU6IHN0cmluZyA9ICcnO1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgdGFtYW5pb1ZlbnRhbmFNZWRpYW5vOiBudW1iZXIgPSA3Njg7Ly9UYW1hw7FvIG1lZGlhbm9cclxuICBwcml2YXRlIHJlYWRvbmx5IHNpZGViYXJTZXJ2aWNlOiBTaWRlYmFyU2VydmljZSA9IGluamVjdChTaWRlYmFyU2VydmljZSk7XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMudmVyaWZpY2FyT3BjaW9uU2VsZWNjaW9uYWRhKCk7XHJcbiAgICAgIHRoaXMudmVyaWZpY2FyVGFtYW5pb1ZlbnRhbmEoKTtcclxuICAgICAgdGhpcy52ZXJpZmljYXJBbmNob0Zpam9TaWRlYmFyKCk7XHJcbiAgICB9LCAwKTtcclxuXHJcbiAgfVxyXG5cclxuICBASG9zdExpc3RlbmVyKCd3aW5kb3c6cmVzaXplJywgWyckZXZlbnQnXSlcclxuICBvbkNhbWJpYXJUYW1hbmlvVmVudGFuYShldmVudDogRXZlbnQpOiB2b2lkIHtcclxuICAgIC8vXHJcbiAgICB0aGlzLnZlcmlmaWNhclRhbWFuaW9WZW50YW5hKCk7XHJcbiAgICAvL1xyXG4gICAgdGhpcy52ZXJpZmljYXJBbmNob0Zpam9TaWRlYmFyKCk7XHJcbiAgICAvL1xyXG4gIH1cclxuICBwdWJsaWMgcmVpbmljaWFyVmFsb3JlcyhtZW51TmF2ZWdhY2lvbjogTWVudU5hdmVnYWNpb24pIHtcclxuICAgIHRoaXMub3BjaW9uU2VsZWNjaW9uYWRvQ29kaWdvID0gJyc7XHJcbiAgICB0aGlzLm9wY2lvblNlbGVjY2lvbmFkb0NvZGlnb0FudGVyaW9yID0gJyc7XHJcbiAgICB0aGlzLm9wY2lvblNlbGVjY2lvbmFkb0NvZGlnb1NpZ3VpZW50ZSA9ICcnO1xyXG4gICAgLy9cclxuICAgIHRoaXMubWVudU5hdmVnYWNpb24gPSBtZW51TmF2ZWdhY2lvbjtcclxuICAgIC8vXHJcbiAgICB0aGlzLnZlcmlmaWNhck9wY2lvblNlbGVjY2lvbmFkYSgpO1xyXG4gIH1cclxuICBwcml2YXRlIHZlcmlmaWNhclRhbWFuaW9WZW50YW5hKCkge1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgdGhpcy50YW1hbmlvVmVudGFuYU1lZGlhbm8pIHtcclxuICAgICAgdGhpcy5tb3N0cmFyU2lkZWJhciA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5tb3N0cmFyU2lkZWJhciA9IHRydWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLnRvZ2dsZVNpZGViYXIuZW1pdCh0aGlzLm1vc3RyYXJTaWRlYmFyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdmVyaWZpY2FyQW5jaG9GaWpvU2lkZWJhcigpIHtcclxuICAgIGNvbnN0IGlzQW5jaG9GaWpvID0gd2luZG93LmlubmVyV2lkdGggPj0gdGhpcy50YW1hbmlvVmVudGFuYU1lZGlhbm8gJiYgdGhpcy5tb3N0cmFyU2lkZWJhcjtcclxuICAgIHRoaXMuYW5jaG9GaWpvU2lkZWJhci5lbWl0KGlzQW5jaG9GaWpvKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdmVyaWZpY2FyT3BjaW9uU2VsZWNjaW9uYWRhKCkge1xyXG4gICAgaWYgKHRoaXMubWVudU5hdmVnYWNpb24ub3B0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG1lbnVJbmRleE5pdmVsMSA9IHRoaXMuc2lkZWJhclNlcnZpY2UuZ2V0TWVudUluZGV4QWN0dWFsKHRoaXMubWVudU5hdmVnYWNpb24ub3B0aW9ucyEsIHRoaXMucHJlZmlqb1VSTCk7XHJcbiAgICAvL1xyXG4gICAgaWYgKG1lbnVJbmRleE5pdmVsMSA8PSAtMSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvL1xyXG4gICAgbGV0IG1lbnVJbmRleE5pdmVsMiA9IC0xLCBtZW51Tml2ZWwgPSAxO1xyXG4gICAgY29uc3QgbWVudSA9IHRoaXMubWVudU5hdmVnYWNpb24ub3B0aW9ucyFbbWVudUluZGV4Tml2ZWwxXTtcclxuICAgIGlmIChtZW51ICYmIG1lbnUub3B0aW9ucyAmJiBtZW51Lm9wdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBtZW51SW5kZXhOaXZlbDIgPSB0aGlzLnNpZGViYXJTZXJ2aWNlLmdldE1lbnVJbmRleEFjdHVhbChtZW51Lm9wdGlvbnMhLCB0aGlzLnByZWZpam9VUkwpO1xyXG4gICAgICBpZiAobWVudUluZGV4Tml2ZWwyID4gLTEpIHtcclxuICAgICAgICBtZW51Tml2ZWwgPSAyO1xyXG4gICAgICAgIG1lbnUuZXh0ZW5kZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvL1xyXG4gICAgdGhpcy5vcGNpb25TZWxlY2Npb25hZG9Db2RpZ28gPSB0aGlzLmdlbmVyYXJDb2RpZ29TZWxlY2Npb25hZG8obWVudUluZGV4Tml2ZWwxLCBtZW51SW5kZXhOaXZlbDIsIG1lbnVOaXZlbCk7XHJcbiAgICB0aGlzLm9wY2lvblNlbGVjY2lvbmFkb0NvZGlnb0FudGVyaW9yID0gdGhpcy5nZW5lcmFyQ29kaWdvU2VsZWNjaW9uYWRvQW50ZXJpb3IobWVudUluZGV4Tml2ZWwxLCBtZW51SW5kZXhOaXZlbDIsIG1lbnVOaXZlbCk7XHJcbiAgICB0aGlzLm9wY2lvblNlbGVjY2lvbmFkb0NvZGlnb1NpZ3VpZW50ZSA9IHRoaXMuZ2VuZXJhckNvZGlnb1NlbGVjY2lvbmFkb1NpZ3VpZW50ZShtZW51SW5kZXhOaXZlbDEsIG1lbnVJbmRleE5pdmVsMiwgbWVudU5pdmVsKTtcclxuICAgIC8vXHJcbiAgICB0aGlzLnZlcmlmaWNhck1lbnVPYmpldG9TZWxlY2Npb25hZG8obWVudUluZGV4Tml2ZWwxLCBtZW51SW5kZXhOaXZlbDIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB2ZXJpZmljYXJNZW51T2JqZXRvU2VsZWNjaW9uYWRvKGluZGV4OiBudW1iZXIsIHN1YkluZGV4OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IG1lbnVQcmluY2lwYWwgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubWVudU5hdmVnYWNpb24pKTtcclxuICAgIGxldCBtZW51U2VsZWNjaW9uYWRvID0gbWVudVByaW5jaXBhbC5vcHRpb25zIVtpbmRleF07XHJcbiAgICBpZiAobWVudVNlbGVjY2lvbmFkbyA9PT0gdW5kZWZpbmVkKSBtZW51U2VsZWNjaW9uYWRvID0gbWVudVByaW5jaXBhbC5vcHRpb25zIVswXTtcclxuICAgIGlmIChtZW51U2VsZWNjaW9uYWRvID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5tZW51TmF2ZWdhY2lvblNlbGVjY2lvbmFkby5lbWl0KG1lbnVQcmluY2lwYWwpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAobWVudVNlbGVjY2lvbmFkby5vcHRpb25zICYmIG1lbnVTZWxlY2Npb25hZG8ub3B0aW9uc1tzdWJJbmRleF0pIHtcclxuICAgICAgY29uc3Qgc3VibWVuaVNlbGVjY2lvbmFkbyA9IHsgLi4ubWVudVNlbGVjY2lvbmFkby5vcHRpb25zIVtzdWJJbmRleF0gfTtcclxuICAgICAgbWVudVNlbGVjY2lvbmFkby5vcHRpb25zID0gW107XHJcbiAgICAgIG1lbnVTZWxlY2Npb25hZG8ub3B0aW9ucy5wdXNoKHN1Ym1lbmlTZWxlY2Npb25hZG8pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWVudVNlbGVjY2lvbmFkby5vcHRpb25zID0gW107XHJcbiAgICB9XHJcbiAgICBtZW51UHJpbmNpcGFsLm9wdGlvbnMgPSBbXTtcclxuICAgIG1lbnVQcmluY2lwYWwub3B0aW9ucy5wdXNoKG1lbnVTZWxlY2Npb25hZG8pO1xyXG4gICAgdGhpcy5tZW51TmF2ZWdhY2lvblNlbGVjY2lvbmFkby5lbWl0KG1lbnVQcmluY2lwYWwpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGV2ZW50b01vc3RyYXJPY3VsdGFyU2lkZWJhcigpIHtcclxuICAgIHRoaXMubW9zdHJhclNpZGViYXIgPSAhdGhpcy5tb3N0cmFyU2lkZWJhcjtcclxuICAgIHRoaXMudG9nZ2xlU2lkZWJhci5lbWl0KHRoaXMubW9zdHJhclNpZGViYXIpO1xyXG4gICAgLy9cclxuICAgIHRoaXMudmVyaWZpY2FyQW5jaG9GaWpvU2lkZWJhcigpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGV2ZW50b1NlbGVjY2lvbmFyT3BjaW9uKGU6IEV2ZW50LCBpbmRleDogbnVtYmVyLCBzdWJJbmRleDogbnVtYmVyLCBuaXZlbDogbnVtYmVyLCBzdWJtZW51PzogYW55KTogdm9pZCB7XHJcbiAgICBpZiAoIXN1Ym1lbnU/LnVybCkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIC8vIERldGVybWluYSBlbCBjw7NkaWdvIHNlbGVjY2lvbmFkbyBzZWfDum4gZWwgbml2ZWxcclxuICAgIHRoaXMub3BjaW9uU2VsZWNjaW9uYWRvQ29kaWdvID0gdGhpcy5nZW5lcmFyQ29kaWdvU2VsZWNjaW9uYWRvKGluZGV4LCBzdWJJbmRleCwgbml2ZWwpO1xyXG4gICAgdGhpcy5vcGNpb25TZWxlY2Npb25hZG9Db2RpZ29BbnRlcmlvciA9IHRoaXMuZ2VuZXJhckNvZGlnb1NlbGVjY2lvbmFkb0FudGVyaW9yKGluZGV4LCBzdWJJbmRleCwgbml2ZWwpO1xyXG4gICAgdGhpcy5vcGNpb25TZWxlY2Npb25hZG9Db2RpZ29TaWd1aWVudGUgPSB0aGlzLmdlbmVyYXJDb2RpZ29TZWxlY2Npb25hZG9TaWd1aWVudGUoaW5kZXgsIHN1YkluZGV4LCBuaXZlbCk7XHJcblxyXG4gICAgLy8gTW9zdHJhciBlbCBzdWJtZW51XHJcbiAgICBpZiAobml2ZWwgPT09IDEgJiYgc3VibWVudT8ub3B0aW9ucz8ubGVuZ3RoID4gMCkge1xyXG4gICAgICBzdWJtZW51LmV4dGVuZGVkID0gIXN1Ym1lbnUuZXh0ZW5kZWQ7XHJcbiAgICB9XHJcbiAgICAvL1xyXG4gICAgdGhpcy52ZXJpZmljYXJNZW51T2JqZXRvU2VsZWNjaW9uYWRvKGluZGV4LCBzdWJJbmRleCk7XHJcbiAgICAvL1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmFyQ29kaWdvU2VsZWNjaW9uYWRvKGluZGV4OiBudW1iZXIsIHN1YkluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQsIG5pdmVsOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIG5pdmVsID09PSAxID8gYCR7aW5kZXh9YCA6IGAke2luZGV4fSR7c3ViSW5kZXh9YDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhckNvZGlnb1NlbGVjY2lvbmFkb0FudGVyaW9yKGluZGV4OiBudW1iZXIsIHN1YkluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQsIG5pdmVsOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIG5pdmVsID09PSAxID8gYCR7aW5kZXggLSAxfWAgOiBgJHtpbmRleH0keyhzdWJJbmRleCA/PyAwKSAtIDF9YDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhckNvZGlnb1NlbGVjY2lvbmFkb1NpZ3VpZW50ZShpbmRleDogbnVtYmVyLCBzdWJJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkLCBuaXZlbDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBuaXZlbCA9PT0gMSA/IGAke2luZGV4ICsgMX1gIDogYCR7aW5kZXh9JHsoc3ViSW5kZXggPz8gMCkgKyAxfWA7XHJcbiAgfVxyXG5cclxufVxyXG4iLCJcclxuQGlmIChtZW51TmF2ZWdhY2lvbi5vcHRpb25zICYmIG1lbnVOYXZlZ2FjaW9uLm9wdGlvbnMhLmxlbmd0aCA+IDApIHtcclxuXHJcblxyXG48ZGl2IGNsYXNzPVwic2lkZWJhclwiIFtuZ0NsYXNzXT1cInsnc2lkZWJhci0tb2N1bHRhcic6IW1vc3RyYXJTaWRlYmFyfVwiPlxyXG5cclxuICA8ZGl2IGNsYXNzPVwic2lkZWJhcl9fYnRuLWNvbnRlbmVkb3JcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IHJlbGF0aXZlIHNpZGViYXJfX2J0blwiXHJcbiAgICBbbmdTdHlsZV09XCJ7J2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzJzogb3BjaW9uU2VsZWNjaW9uYWRvQ29kaWdvID09PSAnMCcgPyAnMTJweCcgOiAnMHB4J31cIlxyXG4gICAgPlxyXG4gICAgICBAaWYgKG1vc3RyYXJTaWRlYmFyPT09dHJ1ZSkge1xyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJib3JkZXItbm9uZSBib3JkZXItcm91bmQgbS0zIGN1cnNvci1wb2ludGVyIHNpZGViYXJfX2J0bi1vY3VsdGFyXCIgKGNsaWNrKT1cImV2ZW50b01vc3RyYXJPY3VsdGFyU2lkZWJhcigpXCI+XHJcbiAgICAgICAgICA8aW1nIFtzcmNdPVwiYmFzZUFzc2V0c1VybCsnL2ljb25zL21lbnUuc3ZnJ1wiIGFsdD1cIk1lbnUgSWNvbm9cIj5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgfUBlbHNlIHtcclxuICAgICAgICA8YSBjbGFzcz1cImJvcmRlci1ub25lIGN1cnNvci1wb2ludGVyIGFic29sdXRlIHNpZGViYXJfX2J0bi1tb3N0cmFyXCIgKGNsaWNrKT1cImV2ZW50b01vc3RyYXJPY3VsdGFyU2lkZWJhcigpXCI+XHJcbiAgICAgICAgICA8aW1nIFtzcmNdPVwiYmFzZUFzc2V0c1VybCsnL2ljb25zL2NvbGxhcHNlZC5zdmcnXCIgYWx0PVwiTWVudSBJY29ub1wiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJhYnNvbHV0ZSBibG9jayBzaWRlYmFyX19idG4tbW9zdHJhci10aXR1bG9cIj5NZW7Dujwvc3Bhbj5cclxuICAgICAgICA8L2E+XHJcbiAgICAgIH1cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG5cclxuICA8ZGl2IGNsYXNzPVwicHgtMCBwdC0wIHBiLTNcIj5cclxuICAgIEBpZiAobWVudU5hdmVnYWNpb24ub3B0aW9ucykge1xyXG4gICAgICA8dWwgY2xhc3M9XCJvcGNpb25lc1wiPlxyXG4gICAgICAgIEBmb3IgKG9wY2lvbiBvZiBtZW51TmF2ZWdhY2lvbi5vcHRpb25zOyBsZXQgaW5kZXhQcmluY2lwYWwgPSAkaW5kZXg7dHJhY2sgaW5kZXhQcmluY2lwYWwpIHtcclxuICAgICAgICAgIDxsaSBjbGFzcz1cIm9wY2lvbmVzX19jb250ZW5lZG9yXCJcclxuICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7J29wY2lvbmVzX192aW5jdWxvLS1hbnRlcmlvcic6b3BjaW9uU2VsZWNjaW9uYWRvQ29kaWdvQW50ZXJpb3I9PT1pbmRleFByaW5jaXBhbCsnJywgJ29wY2lvbmVzX192aW5jdWxvLS1zaWd1aWVudGUnOm9wY2lvblNlbGVjY2lvbmFkb0NvZGlnb1NpZ3VpZW50ZT09PWluZGV4UHJpbmNpcGFsKycnfVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxhIFtyb3V0ZXJMaW5rXT1cIm9wY2lvbi51cmwgPyBvcGNpb24udXJsIDogbnVsbFwiIHJvdXRlckxpbmtBY3RpdmU9XCJ1cmxfYWN0aXZlXCJcclxuICAgICAgICAgICAgICBjbGFzcz1cIm9wY2lvbmVzX192aW5jdWxvXCJcclxuICAgICAgICAgICAgICAoY2xpY2spPVwiZXZlbnRvU2VsZWNjaW9uYXJPcGNpb24oJGV2ZW50LCBpbmRleFByaW5jaXBhbCwgLTEsIDEsIG9wY2lvbilcIlxyXG4gICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnb3BjaW9uZXNfX3ZpbmN1bG8tLWFjdGl2byc6b3BjaW9uU2VsZWNjaW9uYWRvQ29kaWdvPT09aW5kZXhQcmluY2lwYWwrJyd9XCJcclxuICAgICAgICAgICAgICBbYXR0ci50YWJpbmRleF09XCJvcGNpb24udXJsID8gJzAnIDogJy0xJ1wiXHJcbiAgICAgICAgICAgICAgW2F0dHIuYXJpYS1kaXNhYmxlZF09XCIhb3BjaW9uLnVybFwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8c3Bhbj5cclxuICAgICAgICAgICAgICAgIHt7b3BjaW9uLm5hbWV9fVxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8IS0tQ29udGFkb3IgLS0+XHJcbiAgICAgICAgICAgICAgQGlmIChvcGNpb24uY291bnQgJiYgb3BjaW9uLmNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhYnNvbHV0ZSBmbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG1sLTIgYm9yZGVyLXJvdW5kIG9wY2lvbmVzX192aW5jdWxvX19udW1lcm9cIj57eyBvcGNpb24uY291bnQgfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDwhLS1JY29ubyBtb3N0cmFyIHN1YiBtZW51LS0+XHJcbiAgICAgICAgICAgICAgQGlmIChvcGNpb24ub3B0aW9ucyAmJiBvcGNpb24ub3B0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICA8aW1nIFtzcmNdPVwiYmFzZUFzc2V0c1VybCsnL2ljb25zL2Rvd25yb3cuc3ZnJ1wiIGNsYXNzPVwiYWJzb2x1dGUgb3BjaW9uZXNfX2J0bi1kZXNwbGVnYWJsZVwiICBhbHQ9XCJ7eyBvcGNpb24ubmFtZSB9fSBEcm9wRG93blwiXHJcbiAgICAgICAgICAgICAgICAgICAgW25nU3R5bGVdPVwieyd0cmFuc2Zvcm0nOiBvcGNpb24uZXh0ZW5kZWQgJiYgIG9wY2lvbi5leHRlbmRlZD09PXRydWU/ICdyb3RhdGUoMTgwZGVnKScgOiAncm90YXRlKDApJ31cIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8IS0tSW5pIC0gU3VibWVudS0tPlxyXG4gICAgICAgICAgICBAaWYgKG9wY2lvbi5vcHRpb25zICYmIG9wY2lvbi5vcHRpb25zLmxlbmd0aD4wKSB7XHJcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwib3BjaW9uZXMgc3ViLW9wY2lvbmVzXCIgW2NsYXNzLnN1Yi1vcGNpb25lcy0tbW9zdHJhcl09XCJvcGNpb24uZXh0ZW5kZWQ9PT10cnVlXCI+XHJcbiAgICAgICAgICAgICAgICBAZm9yIChjaGlsZCBvZiBvcGNpb24ub3B0aW9uczsgbGV0IHN1YkluZGV4ID0gJGluZGV4OyB0cmFjayBzdWJJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJvcGNpb25lc19fY29udGVuZWRvclwiXHJcbiAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydvcGNpb25lc19fdmluY3Vsby0tYW50ZXJpb3InOm9wY2lvblNlbGVjY2lvbmFkb0NvZGlnb0FudGVyaW9yPT09aW5kZXhQcmluY2lwYWwrJycrc3ViSW5kZXgsICdvcGNpb25lc19fdmluY3Vsby0tc2lndWllbnRlJzpvcGNpb25TZWxlY2Npb25hZG9Db2RpZ29TaWd1aWVudGU9PT1pbmRleFByaW5jaXBhbCsnJytzdWJJbmRleH1cIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckxpbms9XCJ7eyBjaGlsZC51cmwgfX1cIiByb3V0ZXJMaW5rQWN0aXZlPVwidXJsX2FjdGl2ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZXZlbnRvU2VsZWNjaW9uYXJPcGNpb24oJGV2ZW50LCBpbmRleFByaW5jaXBhbCwgc3ViSW5kZXgsIDIpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnb3BjaW9uZXNfX3ZpbmN1bG8tLWFjdGl2byc6b3BjaW9uU2VsZWNjaW9uYWRvQ29kaWdvPT1pbmRleFByaW5jaXBhbCsnJytzdWJJbmRleH1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJvcGNpb25lc19fdmluY3VsbyBwbC02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3tjaGlsZC5uYW1lfX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLUNvbnRhZG9yIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBAaWYgKGNoaWxkLmNvdW50ICYmIGNoaWxkLmNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYWJzb2x1dGUgZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBtbC0yIGJvcmRlci1yb3VuZCBvcGNpb25lc19fdmluY3Vsb19fbnVtZXJvXCI+e3sgY2hpbGQuY291bnQgfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8IS0tRmluIC0gU3VibWVudS0tPlxyXG4gICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgfVxyXG4gICAgICA8L3VsPlxyXG5cclxuICAgICAgPGRpdiBjbGFzcz1cInNpZGViYXJfX2luZmVyaW9yLWNvbnRlbmVkb3JcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2lkZWJhcl9faW5mZXJpb3ItYWx0dXJhXCIgW25nU3R5bGVdPVwieydib3JkZXItdG9wLXJpZ2h0LXJhZGl1cyc6IG9wY2lvblNlbGVjY2lvbmFkb0NvZGlnbyA9PT0gKG1lbnVOYXZlZ2FjaW9uLm9wdGlvbnMubGVuZ3RoLTEpKycnID8gJzEycHgnIDogJzBweCd9XCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgIH1cclxuICA8L2Rpdj5cclxuXHJcbjwvZGl2PlxyXG5cclxufVxyXG4iXX0=