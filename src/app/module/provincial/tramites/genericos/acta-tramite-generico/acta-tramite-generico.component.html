<div class="col-12 pb-2">
      <div class="field-checkbox">
          <p-checkbox
          (onChange)="seleccionarDocumentoEscaneado($event)"
          [binary]="true"
          inputId="actaEscaneada"
          [formControl]="actaEscaneada"
          onKeyPress
          ></p-checkbox>
          <label class="cursor-pointer" for="actaEscaneada">Acta escaneada</label>
      </div>
</div>
@if(actaEscaneada.value){
<div class="mt-3">
  <form [formGroup]="formRegistro" class="formgrid mt-3">
    <div class="grid">
        <div class="col-6">

        <div class="field col-12">
          <label for="observaciones" class="font-bold text-sm">Indique de forma resumida el contenido del acta</label>
          <textarea
            id="observaciones"
            pInputTextarea
            class="w-full"
            rows="4"
            (input)="contadorCaracterObservaciones()"
            [maxlength]="maximoCaracteresObservacion"
            formControlName="observaciones"
          ></textarea>
          <small class="block text-right mt-1" [ngClass]="{ 'p-error': counterReportChar() > 1000 }">
              {{ counterReportChar() }}/1000 caracteres
          </small>
        </div>
          @if (!documentoCargado) {
            @if(!tramiteEnModoVisor){
            <div class="col-12">
              <label for="" class="font-bold text-sm mb-2">Subir cargo</label>
              <fn-file-upload
                class="fz-14"
                [(files)]="files"
                (processSignDocument)="processSignDocument($event)"
                [fileLimit]="1"
                [isInMemory]="true"
                type="pdf"
                [isSignDigital]="true"
                [maxFileSize]="maximoTotalArchivo"
                [perFileLabel]="'en total'"
              ></fn-file-upload>
            </div>
            }
          }@else {

          <div class="field col-12 cfe-table-green">
            <label for="" class="font-bold text-sm">Cargo subido</label>
            <p-table
              [value]="files"
              [rowHover]="true"
              styleClass="p-datatable-sm mt-3"
              >
              <ng-template pTemplate="header">
                <tr>
                  <th id="documento" class="col-w-1-6 text-sm">Documento</th>
                  <th id="tamanio" class="text-center text-sm" style="width: 110px;">Tama√±o</th>
                  <th id="tipo" class="text-center text-sm" style="width: 75px;">Tipo de copia</th>
                  <th id="acciones" class="col-w-1 text-center text-sm" style="width: 45px;">
                    Acciones
                  </th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-file>
                <tr>
                  <td class="text-sm">
                    <div class="flex align-items-center">
                      <span>
                      {{ file.nombreOrigen }}</span>
                      @if (documentoAdjunto.isSign) {
                        <img [src]="icono('check-circle')" alt="guardado" class="ml-2">
                      }

                    </div>
                  </td>
                  <td class="text-center text-sm">
                    {{ formatoPesoArchivo(file.tamanyo) }}
                  </td>
                  <td>
                    <div class="flex flex-wrap gap-3">
                      @for (dataRadio of tipoCopia; track $index) {
                        <div class="flex align-items-center">
                          <p-radioButton
                            name="idTipoCopia"
                            value="{{ dataRadio.id }}"
                            formControlName="idTipoCopia"
                            inputId="or{{ dataRadio.id }}"
                            (onClick)="
                              file.nombreRadio = dataRadio.noDescripcion;
                              file.optionRadio = dataRadio.id
                            "
                          ></p-radioButton>
                          <label
                            for="or{{ dataRadio.id }}"
                            class="ml-2 text-sm cursor-pointer"
                            >{{ dataRadio.noDescripcion }}</label
                          >
                        </div>
                      }
                    </div>
                  </td>
                  <td class="text-center">
                    @if (!flagOcultarBoton) {
                    <fn-icon
                      class="cursor-pointer"
                      [ico]="obtenerIcono('iTrashCan')"
                      height="1.5rem"
                      onkeypress=""
                      (click)="eliminarDocumento(file)"
                      pTooltip="Eliminar documento"
                      tooltipPosition="bottom"
                    />
                    }@else {
                    <fn-icon
                      class="cursor-pointer"
                      [ico]="obtenerIcono('iFileDownload')"
                      height="1.5rem"
                      onkeypress=""
                      (click)="downloadPDF()"
                      pTooltip="Eliminar documento"
                      tooltipPosition="bottom"
                    />
                    }
                  </td>
                </tr>
              </ng-template>
            </p-table>

            @if(!flagOcultarBoton){
            <div class="col-12 margin-top-button mt-5">
              <div class="flex justify-content-between mt-3 botones-accion">
                <button
                  (click)="eliminarDocumento(null)"
                  class="cfe-boton-lg cfe-boton-secondary family-poppin-bold"
                >
                  Cancelar
                </button>
                <button
                  class="cfe-boton-lg family-poppin-bold"
                  (click)="confirmarGuardarDigitalizado()"
                  [disabled]="!formsValidation || !validacionFormulario()"
                  [ngClass]="{
                    'cfe-boton-primary': formsValidation,
                    'cfe-boton-secondary': !formsValidation
                  }"
                >
                  Firmar y Guardar
                </button>
              </div>
            </div>
            }
          </div>
          }
        </div>
      <div class="col-6">
        <div class="mt-7">
          <app-visor-pdf-cargo
            [soloVistaPrevia]="true"
            [documentoAdjunto]="documentoAdjunto"
          ></app-visor-pdf-cargo>
        </div>
      </div>
    </div>
  </form>
</div>
<cfe-lib-firma-digital-cliente></cfe-lib-firma-digital-cliente>
}
